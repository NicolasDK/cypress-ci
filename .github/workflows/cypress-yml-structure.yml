name: MATRIZ

on: [push]

env:
  containers: 1

jobs:


  print-variable:
    runs-on: ubuntu-latest
    if: ${{containers}} == 1
    steps:
      - name: Print-variable
        run: echo "CONTAINERS >>> 2 | env >>> $containers"

  print-variable2:
    runs-on: ubuntu-latest
    env:
      containers: 1
    if: ${{containers}} == 2
    steps:
      - name: Slack Notification
        run: echo "CONTAINERS >>> 2 | env >>> $containers"

  # cypress-run: 
  #   runs-on: ubuntu-latest
  #   needs: print-variable
  #   strategy:
  #     fail-fast: false
  #     matrix:
  #       containers: [1, 2, 3]
  #   steps:
  #     - name: Checkout
  #       uses: actions/checkout@v2

  #     - name: Cypress run
  #       uses: cypress-io/github-action@v4
  #       with:
  #         record: true
  #         parallel: true
  #       env:
  #         CYPRESS_RECORD_KEY: ${{ secrets.CYPRESS_RECORD_KEY }}
  #         GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
    
  # generate-report:
  #   if: ${{ always() }}
  #   needs: cypress-run
  #   runs-on: ubuntu-latest
  #   steps:
  #     - name: Generate allure report
  #       run: echo "Gerando relatorio de execução"
    
  # notify-report:
  #   if: ${{ always() }}
  #   needs: generate-report
  #   runs-on: ubuntu-latest
  #   steps:
  #     - name: Slack Notification
  #       run: echo "Notificando relatorio no slack"
